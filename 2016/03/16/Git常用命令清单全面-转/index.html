






<!doctype html>
<html lang="zh-Hans">
<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="author" content="Poetry">
  
  
  
  
    <meta name="description" content="每天使用 Git ，但是很多命令记不住。">
  
  <title>Git常用命令清单全面[转] [ Poetry's Blog ]</title>
  
    <link rel="alternate" href="/atom.xml" title="Poetry's Blog">
  
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
  <link rel="stylesheet" href="/css/random.css">
<link rel="stylesheet" href="/css/vegas.min.css">
<link rel="stylesheet" href="/css/highlight-railscasts.css">
<link rel="stylesheet" href="/css/jquery.fancybox.css">
<link rel="stylesheet" href="/css/iconfont/iconfont.css">
<link rel="stylesheet" href="/css/jquery.fancybox-thumbs.css">
<link rel="stylesheet" href="/css/plyr.css">
  
</head>

<body>
<div class="side-navigate hide-area">
  
    <div class="item prev">
      <a href="/2016/03/16/编程时间管理工具WakaTime/">
        <div class="item-icon"></div>
      </a>
      <div class="item-title">
        编程时间管理工具WakaTime
      </div>
    </div>
  
  
    <div class="item next">
      <a href="/2016/03/15/Vimium键盘流操作/">
        <div class="item-icon"></div>
      </a>
      <div class="item-title">
        Vimium键盘流操作
      </div>
    </div>
  
</div>
<div id="outer-container" class="hide-area">
<div id="container">
  <div id="menu-outer" class="slide-down">
    <div id="menu-inner">
      <div id="brand">
        
        <a onClick="openUserCard()">
          <img id="avatar" src="http://7xq6al.com1.z0.glb.clouddn.com/16177576.jpg"/>
          <div id="homelink">Poetry's Blog</div>
        </a>
      </div>
      <div id="menu-list">
        <ul>
        
        
          
            <li>
          
            <a href="http://blog.poetries.top">Home</a>
            
          </li>
        
          
            <li>
          
            <a href="http://blog.poetries.top/archives/">Archives</a>
            
          </li>
        
        </ul>
      </div>
      <div id="show-menu">
        <button>Menu</button>
      </div>
    </div>
  </div>

  <div id="content-outer">
    <div id="content-inner">
      
      
  <article id="post">
    <h1>Git常用命令清单全面[转]</h1>
    <p class="page-title-sub">
      <span id = "post-title-date">Created at 2016-03-16</span>
      
        <span id = "post-title-updated">Updated at 2017-01-06</span>
      
      
      <span id = "post-title-categories">Category
      
      
        
        
        <a href="/categories/VCS/">VCS</a>
      
      </span>
      
      
      <span id = "post-title-tags">
      Tag
      
      
        
        
        <a href="/tags/GitHub/">GitHub</a>
      
      </span>
      
    </p>
    
    <p>每天使用 <code>Git</code> ，但是很多命令记不住。<br><a id="more"></a><br>一般来说，日常使用只要记住下图6个命令，就可以了。但是熟练使用，恐怕要记住<code>60～100</code>个命令</p>
<p><img src="http://ww2.sinaimg.cn/large/675f4a91jw1f0wq3jnh5bj20wk09gjsy.jpg" alt="此处输入图片的描述"></p>
<p>下面是整理的常用 Git 命令清单。几个专用名词的译名如下。</p>
<ul>
<li><code>Workspace</code>：工作区</li>
<li><code>Index</code> / <code>Stage</code>：暂存区</li>
<li><code>Repository</code>：仓库区（或本地仓库）</li>
<li><code>Remote</code>：远程仓库</li>
</ul>
<h3 id="一、新建代码库"><a href="#一、新建代码库" class="headerlink" title="一、新建代码库"></a>一、新建代码库</h3><hr>
<ul>
<li><p>在当前目录新建一个Git代码库<br><code>$ git init</code></p>
</li>
<li><p>新建一个目录，将其初始化为Git代码库<br><code>$ git init [project-name]</code></p>
</li>
<li><p>下载一个项目和它的整个代码历史<br><code>$ git clone [url]</code></p>
</li>
</ul>
<h3 id="二、配置"><a href="#二、配置" class="headerlink" title="二、配置"></a>二、配置</h3><hr>
<p>Git的设置文件为<code>.gitconfig</code>，它可以在用户主目录下（全局配置），也可以在项目目录下（项目配置）</p>
<ul>
<li><p>显示当前的Git配置<br><code>$ git config --list</code></p>
</li>
<li><p>编辑Git配置文件<br><code>$ git config -e [--global]</code></p>
</li>
<li><p>设置提交代码时的用户信息</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git config [--global] user.name &quot;[name]&quot;</div><div class="line">$ git config [--global] user.email &quot;[email address]&quot;</div></pre></td></tr></table></figure>
<h3 id="三、增加-删除文件"><a href="#三、增加-删除文件" class="headerlink" title="三、增加/删除文件"></a>三、增加/删除文件</h3><hr>
<ul>
<li><p>添加指定文件到暂存区<br><code>$ git add [file1] [file2] ...</code></p>
</li>
<li><p>添加指定目录到暂存区，包括子目录<br><code>$ git add [dir]</code></p>
</li>
<li><p>添加当前目录的所有文件到暂存区<br><code>$ git add .</code></p>
</li>
<li><p>删除工作区文件，并且将这次删除放入暂存区<br><code>$ git rm [file1] [file2] ...</code></p>
</li>
<li><p>停止追踪指定文件，但该文件会保留在工作区<br><code>$ git rm --cached [file]</code></p>
</li>
<li><p>改名文件，并且将这个改名放入暂存区<br><code>$ git mv [file-original] [file-renamed]</code></p>
</li>
</ul>
<h3 id="四、代码提交"><a href="#四、代码提交" class="headerlink" title="四、代码提交"></a>四、代码提交</h3><hr>
<ul>
<li><p>提交暂存区到仓库区<br><code>$ git commit -m [message]</code></p>
</li>
<li><p>提交暂存区的指定文件到仓库区<br><code>$ git commit [file1] [file2] ... -m [message]</code></p>
</li>
<li><p>提交工作区自上次commit之后的变化，直接到仓库区<br><code>$ git commit -a</code></p>
</li>
<li><p>提交时显示所有diff信息<br><code>$ git commit -v</code></p>
</li>
<li><p>使用一次新的commit，替代上一次提交</p>
</li>
<li><p>如果代码没有任何新变化，则用来改写上一次commit的提交信息<br><code>$ git commit --amend -m [message]</code></p>
</li>
<li><p>重做上一次commit，并包括指定文件的新变化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git commit --amend &lt;file1&gt; &lt;file2&gt; ...</div><div class="line">   &lt;/file2&gt;&lt;/file1&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="五、分支"><a href="#五、分支" class="headerlink" title="五、分支"></a>五、分支</h3><hr>
<ul>
<li><p>列出所有本地分支<br><code>$ git branch</code></p>
</li>
<li><p>列出所有远程分支<br><code>$ git branch -r</code></p>
</li>
<li><p>列出所有本地分支和远程分支<br><code>$ git branch -a</code></p>
</li>
<li><p>新建一个分支，但依然停留在当前分支<br><code>$ git branch [branch-name]</code></p>
</li>
<li><p>新建一个分支，并切换到该分支<br><code>$ git checkout -b [branch]</code></p>
</li>
<li><p>新建一个分支，指向指定commit<br><code>$ git branch [branch] [commit]</code></p>
</li>
<li><p>新建一个分支，与指定的远程分支建立追踪关系<br><code>$ git branch --track [branch] [remote-branch]</code></p>
</li>
<li><p>切换到指定分支，并更新工作区<br><code>$ git checkout [branch-name]</code></p>
</li>
<li><p>建立追踪关系，在现有分支与指定的远程分支之间<br><code>$ git branch --set-upstream [branch] [remote-branch]</code></p>
</li>
<li><p>合并指定分支到当前分支<br><code>$ git merge [branch]</code></p>
</li>
<li><p>选择一个commit，合并进当前分支<br><code>$ git cherry-pick [commit]</code></p>
</li>
<li><p>删除分支<br><code>$ git branch -d [branch-name]</code></p>
</li>
<li><p>删除远程分支</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git push origin --delete &lt;branch-name&gt;`</div><div class="line">$ git branch -dr &lt;remote&gt;</div><div class="line">&lt;/remote&gt;&lt;/branch-name&gt;</div></pre></td></tr></table></figure>
<h3 id="六、标签"><a href="#六、标签" class="headerlink" title="六、标签"></a>六、标签</h3><hr>
<ul>
<li><p>列出所有tag<br><code>$ git tag</code></p>
</li>
<li><p>新建一个tag在当前commit<br><code>$ git tag [tag]</code></p>
</li>
<li><p>新建一个tag在指定commit<br><code>$ git tag [tag] [commit]</code></p>
</li>
<li><p>查看tag信息<br><code>$ git show [tag]</code></p>
</li>
<li><p>提交指定tag<br><code>$ git push [remote] [tag]</code></p>
</li>
<li><p>提交所有tag<br><code>$ git push [remote] --tags</code></p>
</li>
<li><p>新建一个分支，指向某个tag<br><code>$ git checkout -b [branch] [tag]</code></p>
</li>
</ul>
<h3 id="七、查看信息"><a href="#七、查看信息" class="headerlink" title="七、查看信息"></a>七、查看信息</h3><hr>
<ul>
<li><p>显示有变更的文件<br><code>$ git status</code></p>
</li>
<li><p>显示当前分支的版本历史<br><code>$ git log</code></p>
</li>
<li><p>显示commit历史，以及每次commit发生变更的文件<br><code>$ git log --stat</code></p>
</li>
<li><p>显示某个文件的版本历史，包括文件改名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git log --follow [file]</div><div class="line">$ git whatchanged [file]</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>显示指定文件相关的每一次diff<br><code>$ git log -p [file]</code></p>
</li>
<li><p>显示指定文件是什么人在什么时间修改过<br><code>$ git blame [file]</code></p>
</li>
<li><p>显示暂存区和工作区的差异<br><code>$ git diff</code></p>
</li>
<li><p>显示暂存区和上一个commit的差异<br><code>$ git diff --cached [&lt;file&gt;]</code></p>
</li>
<li><p>显示工作区与当前分支最新commit之间的差异<br><code>$ git diff HEAD</code></p>
</li>
<li><p>显示两次提交之间的差异<br><code>$ git diff [first-branch]...[second-branch]</code></p>
</li>
<li><p>显示某次提交的元数据和内容变化<br><code>$ git show [commit]</code></p>
</li>
<li><p>显示某次提交发生变化的文件<br><code>$ git show --name-only [commit]</code></p>
</li>
<li><p>显示某次提交时，某个文件的内容<br><code>$ git show [commit]:[filename]</code></p>
</li>
<li><p>显示当前分支的最近几次提交<br><code>$ git reflog</code></p>
</li>
</ul>
<h3 id="八、远程同步"><a href="#八、远程同步" class="headerlink" title="八、远程同步"></a>八、远程同步</h3><hr>
<ul>
<li><p>下载远程仓库的所有变动<br><code>$ git fetch [remote]</code></p>
</li>
<li><p>显示所有远程仓库<br><code>$ git remote -v</code></p>
</li>
<li><p>显示某个远程仓库的信息<br><code>$ git remote show [remote]</code></p>
</li>
<li><p>增加一个新的远程仓库，并命名<br><code>$ git remote add [shortname] [url]</code></p>
</li>
<li><p>取回远程仓库的变化，并与本地分支合并<br><code>$ git pull [remote] [branch]</code></p>
</li>
<li><p>上传本地指定分支到远程仓库<br><code>$ git push [remote] [branch]</code></p>
</li>
<li><p>强行推送当前分支到远程仓库，即使有冲突<br><code>$ git push [remote] --force</code></p>
</li>
<li><p>推送所有分支到远程仓库<br><code>$ git push [remote] --all</code></p>
</li>
</ul>
<h3 id="九、撤销"><a href="#九、撤销" class="headerlink" title="九、撤销"></a>九、撤销</h3><hr>
<ul>
<li><p>恢复暂存区的指定文件到工作区<br><code>$ git checkout [file]</code></p>
</li>
<li><p>恢复某个commit的指定文件到工作区<br><code>$ git checkout [commit] [file]</code></p>
</li>
<li><p>恢复上一个commit的所有文件到工作区<br><code>$ git checkout .</code></p>
</li>
<li><p>重置暂存区的指定文件，与上一次commit保持一致，但工作区不变<br><code>$ git reset [file]</code></p>
</li>
<li><p>重置暂存区与工作区，与上一次commit保持一致<br><code>$ git reset --hard</code></p>
</li>
<li><p>重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变<br><code>$ git reset [commit]</code></p>
</li>
<li><p>重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致<br><code>$ git reset --hard [commit]</code></p>
</li>
<li><p>重置当前HEAD为指定commit，但保持暂存区和工作区不变<br><code>$ git reset --keep [commit]</code></p>
</li>
<li><p>新建一个commit，用来撤销指定commit</p>
</li>
<li>后者的所有变化都将被前者抵消，并且应用到当前分支<br><code>$ git revert [commit]</code></li>
</ul>
<h3 id="十、其他"><a href="#十、其他" class="headerlink" title="十、其他"></a>十、其他</h3><hr>
<ul>
<li><p>生成一个可供发布的压缩包<br><code>$ git archive</code></p>
</li>
<li><p>备份当前工作区的内容<br><code>$ git stash</code></p>
</li>
<li><p>从Git栈中读取最近一次保存的内容，恢复工作区的相关内容<br><code>$ git stash pop</code></p>
</li>
<li><p>示Git栈内的所有备份<br><code>$ git stash list</code></p>
</li>
<li><p>空Git栈<br><code>$ git stash clear</code></p>
</li>
</ul>

  </article>
  <div class="random-toc-area">
  <button class="btn-hide-toc btn-hide-toc-show" style="display: none" onclick="TOCToggle()">Show TOC</button>
  <button class="btn-hide-toc btn-hide-toc-hide" onclick="TOCToggle()">Hide TOC</button>
  <div class="random-toc">
    <h2>Table of Content</h2>
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、新建代码库"><span class="toc-text">一、新建代码库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、配置"><span class="toc-text">二、配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#三、增加-删除文件"><span class="toc-text">三、增加/删除文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#四、代码提交"><span class="toc-text">四、代码提交</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#五、分支"><span class="toc-text">五、分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#六、标签"><span class="toc-text">六、标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#七、查看信息"><span class="toc-text">七、查看信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#八、远程同步"><span class="toc-text">八、远程同步</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#九、撤销"><span class="toc-text">九、撤销</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#十、其他"><span class="toc-text">十、其他</span></a></li></ol>
  </div>
</div>

  
<nav id="pagination">
  
    <a href="/2016/03/16/编程时间管理工具WakaTime/" class="prev">&larr; Prev post 编程时间管理工具WakaTime</a>
  

  

  
    <a href="/2016/03/15/Vimium键盘流操作/" class="next">Next post Vimium键盘流操作 &rarr;</a>
  
</nav>

  <!-- JiaThis Button BEGIN -->

<!-- JiaThis Button END -->


      
      
      
    </div>
  </div>

  <div id="bottom-outer">
    <div id="bottom-inner">
      Site by Poetry using
      <a href="http://hexo.io">Hexo</a> & <a href="https://github.com/stiekel/hexo-theme-random">Random</a>
      <br>
      
        &copy;
        

        2015
        
         - 2017
        
      
    </div>
  </div>
</div>

</div>



<div id="user-card">
  <div class="center-field">
    <img class="avatar" src="http://7xq6al.com1.z0.glb.clouddn.com/16177576.jpg">
    <p id="description">技术改变生活</p>
    <ul class="social-icon">
  
  
    <li>
      <a href="https://github.com/poetries">
        
          <i class="icon iconfont github">&#xe606;</i>
        
      </a>
    </li>
  
    <li>
      <a href="http://weibo.com/poetries1">
        
          <i class="icon iconfont weibo">&#xe602;</i>
        
      </a>
    </li>
  
    <li>
      <a href="http://www.jianshu.com/users/94077fcddfc0/latest_articles">
        
          <i class="icon iconfont jian">&#xe610;</i>
        
      </a>
    </li>
  
</ul>
  </div>
</div>


<div id="btn-view">Hide</div>

<script>
// is trigger analytics / tongji script
var isIgnoreHost = false;

if(window && window.location && window.location.host) {
  isIgnoreHost = ["localhost","127.0.0.1"].some(function(address){
    return 0 === window.location.host.indexOf(address);
  });
}

var isTriggerAnalytics = !( true && isIgnoreHost );

</script>

  <script>
if(isTriggerAnalytics) {
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?40b1f89aa80f2527b3db779c6898c879";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
}
</script>





  
  
    <script src="/js/jquery-2.2.3.min.js"></script>
  
    <script src="/js/vegas.min.js"></script>
  
    <script src="/js/random.js"></script>
  
    <script src="/js/highlight.pack.js"></script>
  
    <script src="/js/jquery.mousewheel.pack.js"></script>
  
    <script src="/js/jquery.fancybox.pack.js"></script>
  
    <script src="/js/jquery.fancybox-thumbs.js"></script>
  
    <script src="/js/plyr.js"></script>
  

<script>

  // fancybox
  var backgroundImages = [];
  
  $('#post').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox') || $(this).parent().hasClass('fancybox-thumb')) return;
      var alt = this.alt || this.title;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'post' + i);
    });
  });
  $(".fancybox").fancybox();

var vegasConfig = {"preload­Image":true,"transition":["slideLeft2","slideRight2","flash2"],"timer":true,"delay":5000,"shuffle":true,"count":28};
var unsplashConfig = {"gravity":"north"};
// is show background images
var turnoffBackgroundImage = false;



  turnoffBackgroundImage = true;


var backgroundColor = "D7CCC8";

$(".fancybox-thumb").fancybox({
  prevEffect: 'none',
  nextEffect: 'none',
  helpers: {
    title: {
      type: 'outside'
    },
    thumbs: {
      width: 50,
      height: 50
    }
  }
});

// show video with plyr
$(".video-container iframe").each(function(i){
  var url = $(this).attr('src');
  var id = url.split('/').pop();
  var plyrContainer = document.createElement('div');
  plyrContainer.className = 'plyr';
  var plyrElement = document.createElement('div');
  plyrElement.dataset.videoId = id;
  switch(true) {
    case url.search('youtube.com') >= 0:
      plyrElement.dataset.type = 'youtube';
      break;
    case url.search('vimeo.com') >= 0:
      plyrElement.dataset.type = 'vimeo';
      break;
    default:
      return;
  };
  plyrContainer.appendChild(plyrElement);
  $(this).parent().html(plyrContainer);
});
plyr.setup('.plyr', {iconUrl: '/css/sprite.svg'});
</script>
</body>
</html>

